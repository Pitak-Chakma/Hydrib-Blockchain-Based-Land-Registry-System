{% extends 'base.html' %}

{% block title %}Home - Blockchain Land Management{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section py-5 mb-5" style="background: linear-gradient(135deg, #4a6cf7 0%, #24337a 100%); border-radius: 0 0 50px 50px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-6 text-white">
                <h1 class="display-4 fw-bold mb-4" style="color: #ffdd57;">Blockchain Land Management System</h1>
                <p class="lead mb-4" style="color: #ffffff;">A secure and transparent way to manage land transactions using blockchain technology.</p>
                {% if not session.get('user_id') %}
                <div class="d-flex gap-3 mt-4">
                    <a href="{{ url_for('signup') }}" class="btn btn-light btn-lg px-4">Get Started</a>
                    <a href="{{ url_for('login') }}" class="btn btn-outline-light btn-lg px-4">Login</a>
                </div>
                {% endif %}
            </div>
            <div class="col-lg-6 d-none d-lg-block text-center">
                <div class="blockchain-visual p-4">
                    <div class="blockchain-node land-icon"><i class="bi bi-geo-alt-fill"></i></div>
                    <div class="blockchain-node document-icon"><i class="bi bi-file-earmark-text-fill"></i></div>
                    <div class="blockchain-node security-icon"><i class="bi bi-shield-lock-fill"></i></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-10 offset-md-1 text-center">
        
        <div class="section-heading text-center mb-5">
            <h2 class="fw-bold">How It Works</h2>
            <div class="heading-line mx-auto mt-3"></div>
        </div>
        
        <div class="row mt-4 g-4">
            <div class="col-md-4">
                <div class="feature-card h-100 p-4 text-center" style="border-radius: 15px; border: 1px solid rgba(74, 108, 247, 0.1); transition: all 0.3s ease;">
                    <div class="icon-wrapper mb-4 mx-auto" style="width: 80px; height: 80px; background-color: rgba(74, 108, 247, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-house-check" style="font-size: 2rem; color: #4a6cf7;"></i>
                    </div>
                    <h5 class="fw-bold mb-3">For Land Owners</h5>
                    <p>Register as a Seller to list your land properties for sale on our secure platform with blockchain verification.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card h-100 p-4 text-center" style="border-radius: 15px; border: 1px solid rgba(74, 108, 247, 0.1); transition: all 0.3s ease;">
                    <div class="icon-wrapper mb-4 mx-auto" style="width: 80px; height: 80px; background-color: rgba(74, 108, 247, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-search" style="font-size: 2rem; color: #4a6cf7;"></i>
                    </div>
                    <h5 class="fw-bold mb-3">For Buyers</h5>
                    <p>Browse available land listings and make purchase requests with confidence, backed by immutable blockchain records.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card h-100 p-4 text-center" style="border-radius: 15px; border: 1px solid rgba(74, 108, 247, 0.1); transition: all 0.3s ease;">
                    <div class="icon-wrapper mb-4 mx-auto" style="width: 80px; height: 80px; background-color: rgba(74, 108, 247, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-building-check" style="font-size: 2rem; color: #4a6cf7;"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Government Oversight</h5>
                    <p>All transactions are verified and approved by government officials for legal compliance and recorded on the blockchain.</p>
                </div>
            </div>
        </div>
        
        <div class="section-heading text-center mt-5 mb-5">
            <h2 class="fw-bold">Blockchain Advantage</h2>
            <div class="heading-line mx-auto mt-3"></div>
            <p class="lead mt-4">Our system leverages blockchain technology to create immutable records of land ownership and transactions</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4">
                <div class="advantage-card p-4 h-100" style="border-radius: 15px; border-left: 4px solid #4a6cf7; background-color: rgba(74, 108, 247, 0.03);">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-small me-3" style="width: 40px; height: 40px; background-color: rgba(74, 108, 247, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="bi bi-eye" style="color: #4a6cf7;"></i>
                        </div>
                        <h5 class="fw-bold mb-0">Transparency</h5>
                    </div>
                    <p class="mb-0">Complete visibility into all transactions, ensuring openness and trust in the land registry process.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="advantage-card p-4 h-100" style="border-radius: 15px; border-left: 4px solid #4a6cf7; background-color: rgba(74, 108, 247, 0.03);">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-small me-3" style="width: 40px; height: 40px; background-color: rgba(74, 108, 247, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="bi bi-shield-check" style="color: #4a6cf7;"></i>
                        </div>
                        <h5 class="fw-bold mb-0">Fraud Prevention</h5>
                    </div>
                    <p class="mb-0">Elimination of fraud and double-selling through cryptographic verification and consensus mechanisms.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="advantage-card p-4 h-100" style="border-radius: 15px; border-left: 4px solid #4a6cf7; background-color: rgba(74, 108, 247, 0.03);">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-small me-3" style="width: 40px; height: 40px; background-color: rgba(74, 108, 247, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="bi bi-lock" style="color: #4a6cf7;"></i>
                        </div>
                        <h5 class="fw-bold mb-0">Immutable Records</h5>
                    </div>
                    <p class="mb-0">Permanent, tamper-proof record of ownership that cannot be altered or deleted once verified.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="advantage-card p-4 h-100" style="border-radius: 15px; border-left: 4px solid #4a6cf7; background-color: rgba(74, 108, 247, 0.03);">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-small me-3" style="width: 40px; height: 40px; background-color: rgba(74, 108, 247, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="bi bi-lightning" style="color: #4a6cf7;"></i>
                        </div>
                        <h5 class="fw-bold mb-0">Efficiency</h5>
                    </div>
                    <p class="mb-0">Streamlined process with reduced paperwork and faster transaction times compared to traditional methods.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="advantage-card p-4 h-100" style="border-radius: 15px; border-left: 4px solid #4a6cf7; background-color: rgba(74, 108, 247, 0.03);">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-small me-3" style="width: 40px; height: 40px; background-color: rgba(74, 108, 247, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="bi bi-key" style="color: #4a6cf7;"></i>
                        </div>
                        <h5 class="fw-bold mb-0">Security</h5>
                    </div>
                    <p class="mb-0">Enhanced security through cryptographic verification, protecting sensitive land ownership data.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="advantage-card p-4 h-100" style="border-radius: 15px; border-left: 4px solid #4a6cf7; background-color: rgba(74, 108, 247, 0.03);">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-small me-3" style="width: 40px; height: 40px; background-color: rgba(74, 108, 247, 0.1); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="bi bi-globe" style="color: #4a6cf7;"></i>
                        </div>
                        <h5 class="fw-bold mb-0">Accessibility</h5>
                    </div>
                    <p class="mb-0">Global access to land records and transaction history, enabling remote verification and management.</p>
                </div>
            </div>
        </div>
        
        <div class="section-heading text-center mt-5 mb-5">
            <h2 class="fw-bold">Public Blockchain Transactions</h2>
            <div class="heading-line mx-auto mt-3"></div>
            <p class="lead mt-4">View all verified land transactions recorded on our secure blockchain ledger</p>
        </div>
        
        <div class="blockchain-transactions-container p-4" style="background-color: rgba(74, 108, 247, 0.03); border-radius: 20px; border: 1px solid rgba(74, 108, 247, 0.1);">
            <div class="d-flex justify-content-center mb-4">
                <button class="btn btn-primary px-4 py-2" type="button" data-bs-toggle="collapse" data-bs-target="#blockchainTransactions" aria-expanded="false" aria-controls="blockchainTransactions">
                    <i class="bi bi-database-fill me-2"></i> View Blockchain Records
                </button>
            </div>
            
            <div class="collapse" id="blockchainTransactions">
                {% if public_transactions %}
                    <div class="table-responsive">
                        <table class="table table-hover" style="border-radius: 10px; overflow: hidden;">
                            <thead class="table-primary">
                                <tr>
                                    <th>Transaction ID</th>
                                    <th>Land Title</th>
                                    <th>Seller</th>
                                    <th>Buyer</th>
                                    <th>Blockchain Record</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for transaction in public_transactions %}
                                    <tr>
                                        <td><span class="fw-medium">#{{ transaction.id }}</span></td>
                                        <td>{{ transaction.land.title }}</td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <i class="bi bi-person-circle me-2 text-primary"></i>
                                                {{ transaction.seller.username }}
                                            </div>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <i class="bi bi-person-circle me-2 text-success"></i>
                                                {{ transaction.buyer.username }}
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge bg-success blockchain-record" style="font-family: 'Roboto Mono', monospace; letter-spacing: 1px;">
                                                {{ transaction.blockchain_record }}
                                            </span>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <i class="bi bi-calendar-check me-2 text-muted"></i>
                                                {{ transaction.timestamp.strftime('%Y-%m-%d') }}
                                            </div>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% else %}
                    <div class="alert alert-info d-flex align-items-center" style="border-radius: 10px;">
                        <i class="bi bi-info-circle-fill me-2"></i>
                        <div>No blockchain transactions have been recorded yet.</div>
                    </div>
                {% endif %}
            </div>
        </div>
        
        {% if not session.get('user_id') %}
        <div class="cta-section mt-5 p-5 text-center" style="background: linear-gradient(135deg, rgba(74, 108, 247, 0.1) 0%, rgba(74, 108, 247, 0.05) 100%); border-radius: 20px;">
            <h3 class="fw-bold mb-4">Ready to Get Started?</h3>
            <p class="lead mb-4">Join our platform today and experience the future of secure land management</p>
            <div class="d-flex justify-content-center gap-4 mt-4">
                <a href="{{ url_for('signup') }}" class="btn btn-primary btn-lg px-5 py-3">
                    <i class="bi bi-person-plus me-2"></i> Create Account
                </a>
                <a href="{{ url_for('login') }}" class="btn btn-outline-primary btn-lg px-5 py-3">
                    <i class="bi bi-box-arrow-in-right me-2"></i> Login
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}